import{j as e,O as b,x as p,y as f,r as d,a as g,z as v,L as y,A as N,B as x,d as E}from"./index-Co1qtYU1.js";import{u as k,c as L,a as n}from"./index.esm-BqSFqQpI.js";import{l as P}from"./index-TjCxX7sJ.js";const j=P("https://service-provider-service-pro.onrender.com"),S=()=>e.jsx("div",{children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("div",{className:"container my-5",children:[e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:" position-fixed w-50",children:e.jsx(C,{})})}),e.jsx(b,{})]}),e.jsx("div",{className:"w-100",children:e.jsx(w,{})}),e.jsx(M,{})]})}),w=()=>{const[a,{data:s}]=p(),[o]=f();return d.useEffect(()=>{a(),j.on("professional-Booked",()=>{a()})},[]),e.jsxs("div",{className:"bg-light text-dark",style:{height:"100vh",background:"linear-gradient(135deg,rgb(103, 237, 247),rgb(112, 249, 140))"},children:[e.jsx("h3",{className:"text-center py-2 gap-2 fw-bold",children:"Customer Layout"}),e.jsxs("div",{className:"container mt-3 ",children:[e.jsx("h2",{className:"mb-4",children:"Booking Requests"}),e.jsx("div",{className:"",children:e.jsxs("table",{className:"table table-striped table-bordered table-hover  table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Professional Name"}),e.jsx("th",{children:" Email"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Acency Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:s&&s.map(l=>e.jsxs("tr",{children:[e.jsx("td",{children:l.professionalId.name}),e.jsx("td",{children:l.professionalId.email}),e.jsx("td",{children:l.professionalId.mobile}),e.jsx("td",{children:l.professionalId.role}),e.jsx("td",{children:l.professionalId.agencyName}),e.jsx("td",{children:l.isAccept}),e.jsx("td",{children:l.isAccept==="pending"?e.jsx("button",{onClick:c=>o({_id:l._id,isAccept:"cancel"}),type:"button",class:"btn btn-danger btn-sm",children:"cancel"}):""})]},l._id))})]})})]})]})},C=()=>{const[a,{data:s}]=g(),[o,{isSuccess:l,isError:c,isLoading:i,error:r}]=v();return d.useEffect(()=>{a(),j.on("Customer-Profile-Update",()=>{a()})},[]),e.jsxs("div",{className:"card shadow-lg border-light w-75",style:{marginLeft:"80px"},children:[e.jsxs("div",{className:"card-header text-center",style:{background:"linear-gradient(135deg,rgb(249, 118, 10),rgb(18, 246, 71))"},children:[e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx("img",{src:(s==null?void 0:s.hero)||"https://via.placeholder.com/150",className:"rounded-circle",width:"120px",height:"120px",alt:"Profile"})}),e.jsx("h3",{className:"pt-2",children:s==null?void 0:s.name})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-4",children:e.jsx("strong",{children:"Email:"})}),e.jsx("div",{className:"col-md-8 text-muted",children:s==null?void 0:s.email})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-4",children:e.jsx("strong",{children:"Mobile:"})}),e.jsx("div",{className:"col-md-8 text-muted",children:s==null?void 0:s.mobile})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-4",children:e.jsx("strong",{children:"Location:"})}),e.jsx("div",{className:"col-md-8 text-muted",children:s==null?void 0:s.location})]})]}),e.jsxs("div",{className:"d-flex justify-content-around",children:[e.jsx("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",className:"btn btn-outline-success btn-sm mx-3 my-2",children:"Update Profile"}),e.jsx("button",{type:"button",onClick:o,class:"btn btn-outline-danger btn-sm mx-3 my-2",children:"LogOut"}),e.jsx(y,{to:"/",children:e.jsx("button",{type:"button",class:"btn btn-outline-danger btn-sm mx-3 my-2",children:"Home"})})]})]})},M=()=>{const[a,{isSuccess:s,isError:o,error:l,isLoading:c}]=N(),i=k({initialValues:{name:"",email:"",mobile:"",location:"",hero:""},validationSchema:L({name:n().required("Enter name"),email:n().required("Enter email"),mobile:n().required("Enter mobile"),location:n().required("Enter location"),hero:n().required("Enter hero")}),onSubmit:(t,{resetForm:u})=>{const m=new FormData;for(const h in t)m.append(h,t[h]);a(m),u()}}),r=t=>E({"form-control ":!0,"is-valid ":!i.errors[t]&&i.touched[t],"is-invalid ":i.errors[t]&&i.touched[t]});return d.useEffect(()=>{s?x.success("Profile Updated SuccessðŸ‘"):o&&x.error("Profile Update ErrorðŸ‘Ž")},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{class:"modal-dialog",children:e.jsxs("div",{class:"modal-content",children:[e.jsxs("div",{class:"modal-header",children:[e.jsx("h5",{class:"modal-title",id:"exampleModalLabel",children:"Update Profile ðŸ‘‡"}),e.jsx("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{class:"modal-body",children:e.jsx("form",{onSubmit:i.handleSubmit,children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:r("name"),...i.getFieldProps("name"),placeholder:"Enter Name",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:r("email"),...i.getFieldProps("email"),placeholder:"Enter Email",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:r("mobile"),...i.getFieldProps("mobile"),placeholder:"Enter Mobile",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:r("location"),...i.getFieldProps("location"),placeholder:"Enter Location",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{type:"file",className:r("hero"),onChange:t=>i.setFieldValue("hero",t.currentTarget.files[0]),placeholder:"Choose Image"})}),e.jsx("div",{className:"me-2",children:e.jsx("button",{type:"submit",class:"btn btn-outline-warning w-100","data-bs-dismiss":"modal",children:"Update"})})]})})})]})})})})};export{S as default};
