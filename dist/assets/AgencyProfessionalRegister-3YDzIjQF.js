import{E as b,F as m,r as c,B as h,j as e,G as p,d as u}from"./index-Co1qtYU1.js";import{u as j,c as f,a as o}from"./index.esm-BqSFqQpI.js";import{l as v}from"./index-TjCxX7sJ.js";const g=v("https://service-provider-service-pro.onrender.com"),P=()=>{const[d,{data:r}]=b(),[a,{isSuccess:t,isError:x,isLoading:s,error:i}]=m();return c.useEffect(()=>{d(),g.on("profess-agency-active",()=>{d()})},[]),c.useEffect(()=>{t&&h.success("Professional Active/De-Activeted")},[t]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-flex justify-content-end pe-5 pt-2",children:e.jsx("button",{type:"button",class:"btn btn-danger","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Add Professional"})}),e.jsx("div",{className:"container mt-4",children:e.jsxs("table",{className:"table table-striped table-hover table-bordered table-light rounded-3 overflow-hidden",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary text-white",children:[e.jsx("th",{scope:"col",children:"_id"}),e.jsx("th",{scope:"col",children:"Name"}),e.jsx("th",{scope:"col",children:"Email"}),e.jsx("th",{scope:"col",children:"Mobile"}),e.jsx("th",{scope:"col",children:"Role"}),e.jsx("th",{scope:"col",children:"Active"})]})}),e.jsx("tbody",{children:r&&r.result.map(l=>e.jsxs("tr",{className:"table-hover",children:[e.jsx("td",{children:l._id}),e.jsx("td",{children:l.name}),e.jsx("td",{children:l.email}),e.jsx("td",{children:l.mobile}),e.jsx("td",{children:l.role}),e.jsx("td",{children:l.isActive===!1?e.jsx("button",{onClick:n=>a({_id:l._id,isActive:!0}),type:"button",class:"btn btn-outline-success",children:"Active"}):e.jsx("button",{onClick:n=>a({_id:l._id,isActive:!1}),type:"button",class:"btn btn-outline-danger",children:"De-Active"})})]}))})]})}),e.jsx(y,{})]})},y=()=>{const[d,{isSuccess:r,isError:a,isLoading:t,error:x}]=p(),s=j({initialValues:{name:"",email:"",mobile:"",password:"",role:""},validationSchema:f({name:o().required("Enter Name"),email:o().required("Enter Email").email(),mobile:o().required("Enter Mobile").min(10).max(10),password:o().required("Enter Password"),role:o().required("Choose role")}),onSubmit:(l,{resetForm:n})=>{d(l),n()}}),i=l=>u({"form-control ":!0,"is-valid":!s.errors[l]&&s.touched[l],"is-invalid":s.errors[l]&&s.touched[l]});return c.useEffect(()=>{r&&h.success("Professional Add Success 👍")},[r]),c.useEffect(()=>{a&&h.error("Professional Add Error 👎")},[a]),e.jsx(e.Fragment,{children:e.jsx("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:e.jsx("div",{class:"modal-dialog",children:e.jsxs("div",{class:"modal-content",children:[e.jsxs("div",{class:"modal-header py-1",children:[e.jsx("h1",{class:"modal-title fs-6",id:"staticBackdropLabel",children:" 🔖  Add  Professionals 💵"}),e.jsx("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{class:"modal-body",children:e.jsx("div",{class:"container",children:e.jsx("div",{class:"row",children:e.jsx("form",{onSubmit:s.handleSubmit,children:e.jsxs("div",{class:"col-sm-12 ",children:[e.jsxs("select",{...s.getFieldProps("role"),class:`${i("role")} "form-select"`,children:[e.jsx("option",{unselectable:"off",children:"Select Role"}),e.jsx("option",{value:"painter",children:"Painter"}),e.jsx("option",{value:"plumber",children:"Plumber"}),e.jsx("option",{value:"electritian",children:"electritian"}),e.jsx("option",{value:"farmer",children:"Farmer"}),e.jsx("option",{value:"cleaning-services",children:"Cleaning"}),e.jsx("option",{value:"gardener",children:"Gardener"}),e.jsx("option",{value:"ac-technician",children:"Ac-Technician"}),e.jsx("option",{value:"carpenter",children:"Carpenter"})]}),e.jsxs("div",{children:[e.jsx("label",{for:"name",class:"form-label",children:"Enter  "}),e.jsx("input",{type:"text",class:i("name"),...s.getFieldProps("name"),id:"name",placeholder:"Enter your name"}),e.jsx("div",{class:"valid-feedback",children:"Looks good!"}),e.jsx("div",{class:"invalid-feedback",children:s.errors.name})]}),e.jsxs("div",{children:[e.jsx("label",{for:"email",class:"form-label",children:"Enter Email"}),e.jsx("input",{type:"text",class:i("email"),...s.getFieldProps("email"),id:"email",placeholder:"Enter Your Email"}),e.jsx("div",{class:"valid-feedback",children:"Looks good!"}),e.jsx("div",{class:"invalid-feedback",children:s.errors.email})]}),e.jsxs("div",{children:[e.jsx("label",{for:"mobile",class:"form-label",children:"Mobile"}),e.jsx("input",{type:"text",class:i("mobile"),...s.getFieldProps("mobile"),id:"mobile",placeholder:"Enter Your mobile"}),e.jsx("div",{class:"valid-feedback",children:"Looks good!"}),e.jsx("div",{class:"invalid-feedback",children:s.errors.mobile})]}),e.jsxs("div",{children:[e.jsx("label",{for:"password",class:"form-label",children:"Password"}),e.jsx("input",{type:"password",class:i("password"),...s.getFieldProps("password"),id:"password",placeholder:"Enter Your Password"}),e.jsx("div",{class:"valid-feedback",children:"Looks good!"}),e.jsx("div",{class:"invalid-feedback",children:s.errors.password})]}),e.jsx("button",{type:"submit","data-bs-dismiss":"modal",class:"btn btn-outline-info w-100 mt-2",children:"Add"})]})})})})})]})})})})};export{P as default};
