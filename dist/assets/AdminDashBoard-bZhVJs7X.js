import{b as m,r as c,j as e,c as h,B as x,d as b}from"./index-w722hmEG.js";import{u as p,c as u,a as t}from"./index.esm-Dusb4aWj.js";import{l as j}from"./index-TjCxX7sJ.js";const f=j("https://service-provider-service-pro.onrender.com"),k=()=>{const[r,{data:s}]=m();return c.useEffect(()=>{r(),f.on("admin-Profile-Update",()=>{r()})},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container mt-5",children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row align-items-center border p-3 shadow bg-info-subtle rounded border-black",children:[e.jsx("div",{className:"col-md-3 text-center",children:e.jsx("img",{src:s&&s[0].hero||"https://via.placeholder.com/150",alt:"Profile",className:"rounded-circle border border-black img-fluid",style:{height:"200px",width:"200px"}})}),e.jsxs("div",{className:"col-md-7",children:[e.jsx("h4",{className:"mb-3",children:s&&s[0].name}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Email:"})," ",s&&s[0].email]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Mobile:"})," ",s&&s[0].mobile]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Role:"})," ",s&&s[0].role]})]}),e.jsx("div",{className:"col-md-2 text-center",children:e.jsx("button",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal",className:"btn btn-primary btn-block",children:"Update Profile"})})]})})}),e.jsx(v,{})]})},v=()=>{const[r,{isSuccess:s,isError:N,error:g,isLoading:y}]=h(),l=p({initialValues:{mobile:"",hero:""},validationSchema:u({mobile:t().required("Enter mobile"),hero:t().required("Enter hero")}),onSubmit:(a,{resetForm:n})=>{const d=new FormData;for(const o in a)d.append(o,a[o]);r(d),n()}}),i=a=>b({"form-control ":!0,"is-valid ":!l.errors[a]&&l.touched[a],"is-invalid ":l.errors[a]&&l.touched[a]});return c.useEffect(()=>{s&&x.success("Profile Updated Success👍")},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{class:"modal-dialog",children:e.jsxs("div",{class:"modal-content",children:[e.jsxs("div",{class:"modal-header",children:[e.jsx("h5",{class:"modal-title",id:"exampleModalLabel",children:"Update Profile 👇"}),e.jsx("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{class:"modal-body",children:e.jsx("form",{onSubmit:l.handleSubmit,children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:i("mobile"),...l.getFieldProps("mobile"),placeholder:"Enter Mobile",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{type:"file",className:i("hero"),onChange:a=>l.setFieldValue("hero",a.currentTarget.files[0]),placeholder:"Choose Image"})}),e.jsx("div",{className:"me-2",children:e.jsx("button",{type:"submit",class:"btn btn-outline-warning w-100","data-bs-dismiss":"modal",children:"Update"})})]})})})]})})})})};export{k as default};
