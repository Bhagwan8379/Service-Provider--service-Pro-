import{h as b,r as t,j as e,C as j,B as h,d as g}from"./index-D-Yszxha.js";import{u as N,c as f,a as n}from"./index.esm-Bnh2ALr1.js";import{l as y}from"./index-TjCxX7sJ.js";const v=y("https://service-provider-service-pro.onrender.com"),R=()=>{const[s,{data:l}]=b();return t.useEffect(()=>{s(),v.on("Professiona-Profile-Update",()=>{s()})},[]),e.jsxs("div",{className:"container mt-2",children:[e.jsxs("div",{className:"card shadow-sm  border border-info",children:[e.jsx("div",{className:"card-header bg-info-subtle border border-black text-black text-center",children:e.jsx("h2",{className:"mb-0",children:l&&(l==null?void 0:l.name)})}),e.jsx("div",{className:"card-body bg-light",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-4 text-center",children:l&&e.jsx("img",{src:l.hero||"https://via.placeholder.com/200",alt:"Profile",style:{height:"150px",width:"150px"},className:"img-fluid rounded-circle border border-1 border-info"})}),e.jsxs("div",{className:"col-md-8",children:[e.jsx("div",{className:"d-flex justify-content-end mb-3",children:e.jsx("button",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal",className:"btn btn-outline-info btn-sm me-2",children:"Edit Profile"})}),e.jsx("h5",{className:"fw-bold text-secondary mb-3",children:"Contact Information"}),e.jsxs("ul",{className:"list-group list-group-flush border-info border rounded-1 shadow",children:[e.jsxs("li",{className:"list-group-item bg-white border-0",children:[e.jsx("strong",{className:"text-info",children:"Email:"})," ",l?e.jsx(e.Fragment,{children:l.email}):"N/A"]}),e.jsxs("li",{className:"list-group-item bg-white border-0",children:[e.jsx("strong",{className:"text-info",children:"Phone:"})," ",l?e.jsx(e.Fragment,{children:l.mobile}):"N/A"]}),e.jsxs("li",{className:"list-group-item bg-white border-0",children:[e.jsx("strong",{className:"text-info",children:"Agency Name:"})," ",l?e.jsx(e.Fragment,{children:l.agencyName}):"N/A"]}),e.jsxs("li",{className:"list-group-item bg-white border-0",children:[e.jsx("strong",{className:"text-info",children:"Skills:"})," ",l?e.jsx(e.Fragment,{children:l.skills}):"N/A"]}),e.jsxs("li",{className:"list-group-item bg-white border-0",children:[e.jsx("strong",{className:"text-info",children:"Hourly Rate:"})," ",l?e.jsx(e.Fragment,{children:l.hourlyRate}):"N/A"]}),e.jsxs("li",{className:"list-group-item bg-white border-0",children:[e.jsx("strong",{className:"text-info",children:"Available:"})," ",l?e.jsx(e.Fragment,{children:l.available}):"N/A"]}),e.jsxs("li",{className:"list-group-item bg-white border-0",children:[e.jsx("strong",{className:"text-info",children:"Location:"})," ",l?e.jsx(e.Fragment,{children:l.location}):"N/A"]}),e.jsxs("li",{className:"list-group-item bg-white border-0",children:[e.jsx("strong",{className:"text-info",children:"Expertise:"})," ",l?e.jsx(e.Fragment,{children:l.experties}):"N/A"]})]})]})]})})]}),e.jsx(E,{data:l})]})},E=({data:s})=>{const[l,{isSuccess:a,isError:x,error:P,isLoading:F}]=j(),[p,c]=t.useState(!1),i=N({enableReinitialize:!0,initialValues:{name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",mobile:(s==null?void 0:s.mobile)||"",hourlyRate:(s==null?void 0:s.hourlyRate)||"",location:(s==null?void 0:s.location)||"",available:(s==null?void 0:s.available)||"",skills:(s==null?void 0:s.skills)||"",experties:(s==null?void 0:s.experties)||"",agencyName:(s==null?void 0:s.agencyName)||"",hero:(s==null?void 0:s.hero)||""},validationSchema:f({name:n().required("Enter name"),email:n().required("Enter email"),mobile:n().required("Enter mobile"),hourlyRate:n().required("Enter hourlyRate"),location:n().required("Enter location"),available:n().required("Enter available"),skills:n().required("Enter skills"),experties:n().required("Enter experties"),agencyName:n().required("Enter agencyName"),hero:n().required("Upload Image")}),onSubmit:(r,{resetForm:u})=>{const m=new FormData;for(const d in r)m.append(d,r[d]);l(m),u()}}),o=r=>g({"form-control":!0,"is-valid":!i.errors[r]&&i.touched[r],"is-invalid":i.errors[r]&&i.touched[r]});return t.useEffect(()=>{a?h.info("Profile Update info 👍😃"):x&&h.error("Profile Update Error👎")},[a]),e.jsx(e.Fragment,{children:e.jsx("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{class:"modal-dialog",children:e.jsxs("div",{class:"modal-content",children:[e.jsxs("div",{class:"modal-header",children:[e.jsx("h1",{class:"modal-title fs-5",id:"exampleModalLabel",children:"Update Professional"}),e.jsx("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{class:"modal-body",children:e.jsx("form",{onSubmit:i.handleSubmit,children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:o("name"),...i.getFieldProps("name"),placeholder:"Enter Name",defaultValue:i.name,type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:o("email"),...i.getFieldProps("email"),placeholder:"Enter Email",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:o("mobile"),...i.getFieldProps("mobile"),placeholder:"Enter Mobile",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:o("hourlyRate"),...i.getFieldProps("hourlyRate"),placeholder:"Enter Hourly Rete",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:o("location"),...i.getFieldProps("location"),placeholder:"Enter Location",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:o("available"),...i.getFieldProps("available"),placeholder:"Enter Available",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:o("skills"),...i.getFieldProps("skills"),placeholder:"Enter Skills",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:o("experties"),...i.getFieldProps("experties"),placeholder:"Enter Experties",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:e.jsx("input",{className:o("agencyName"),...i.getFieldProps("agencyName"),placeholder:"Enter agencyName",type:"text"})}),e.jsx("div",{className:"col-sm-6 my-2",children:p===!0?e.jsxs("div",{children:[e.jsx("input",{type:"file",className:o("hero"),onChange:r=>i.setFieldValue("hero",r.currentTarget.files[0]),placeholder:"Choose Image"}),e.jsx("button",{onClick:r=>c(!1),type:"button",class:"btn btn-outline-danger my-2",children:"Cancel"})]}):e.jsxs("div",{children:[e.jsx("img",{style:{height:"100px"},src:s&&s.hero,alt:""}),e.jsx("button",{onClick:r=>c(!0),type:"button",class:"btn btn-outline-danger ms-5",children:"cancel"})]})}),e.jsx("div",{className:"me-2",children:e.jsx("button",{type:"submit",class:"btn btn-outline-warning w-100","data-bs-dismiss":"modal",children:"Update"})})]})})})]})})})})};export{R as default};
