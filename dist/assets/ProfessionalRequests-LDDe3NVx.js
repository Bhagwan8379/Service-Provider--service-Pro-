import{D as l,y as r,r as n,B as p,j as e}from"./index-w722hmEG.js";import{l as h}from"./index-TjCxX7sJ.js";const a=h("https://service-provider-service-pro.onrender.com"),u=()=>{const[i,{data:o}]=l(),[c,{isSuccess:d,isError:j,isLoading:x,error:b}]=r();return n.useEffect(()=>{i(),a.on("professional-Booked",()=>{i()})},[]),n.useEffect(()=>{d&&p.success("Booking Accept/Rejected")},[d]),n.useEffect(()=>{i(),a.on("book-accept/reject",()=>{i()})},[]),e.jsxs("div",{className:"container mt-3",children:[e.jsx("h2",{className:"mb-4",children:"Professional Requests"}),e.jsx("div",{style:{maxHeight:"500px",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-bordered table-hover table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer Name"}),e.jsx("th",{children:"Customer Email"}),e.jsx("th",{children:"Professional Name"}),e.jsx("th",{children:"Professional Email"}),e.jsx("th",{children:"Reason"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:o&&o.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.customerId.name}),e.jsx("td",{children:t.customerId.email}),e.jsx("td",{children:t.professionalId.name}),e.jsx("td",{children:t.professionalId.email}),e.jsx("td",{children:t.reason}),e.jsx("td",{children:t.location}),e.jsx("td",{children:t.isAccept==="accept"?"accept":t.isAccept==="reject"?"rejected":t.isAccept==="pending"?"pending":""}),e.jsx("td",{td:!0,className:"d-flex gap-3",children:t.isAccept==="pending"?e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{type:"button",class:"btn btn-info",onClick:s=>c({_id:t._id,isAccept:"accept"}),children:"Accept"}),e.jsx("button",{type:"button",class:"btn btn-danger",onClick:s=>c({_id:t._id,isAccept:"reject"}),children:"Reject"})]}):t.isAccept==="reject"?e.jsx("button",{type:"button",class:"btn btn-info",onClick:s=>c({_id:t._id,isAccept:"accept"}),children:"Accept"}):e.jsx("button",{onClick:s=>c({_id:t._id,isAccept:"reject"}),type:"button",class:"btn btn-danger",children:"Reject"})||t.isAccept==="accept"?e.jsx("button",{onClick:s=>c({_id:t._id,isAccept:"reject"}),type:"button",class:"btn btn-danger",children:"Reject"}):e.jsx("button",{type:"button",class:"btn btn-info",onClick:s=>c({_id:t._id,isAccept:"accept"}),children:"Accept"})})]},t._id))})]})})]})};export{u as default};
