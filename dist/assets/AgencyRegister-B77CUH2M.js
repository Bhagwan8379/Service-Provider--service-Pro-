import{t as m,v as x,r as o,B as h,j as e,w as j,d as u}from"./index-w722hmEG.js";import{u as p,c as v,a}from"./index.esm-Dusb4aWj.js";import{l as f}from"./index-TjCxX7sJ.js";const g=f("https://service-provider-service-pro.onrender.com"),w=()=>{const[c,{data:r}]=m(),[d,{isSuccess:t,isError:b,isLoading:s,error:i}]=x();return o.useEffect(()=>{t&&h.success("Agency Active/De-Actived")},[t]),o.useEffect(()=>{c(),g.on("ageyc-active-Deactive",()=>{c()})},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-flex justify-content-end pe-5 pt-2",children:e.jsx("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Add Agency"})}),e.jsx("div",{className:"container mt-4",children:e.jsxs("table",{className:"table table-striped table-hover table-bordered table-light rounded-3 overflow-hidden",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary text-white",children:[e.jsx("th",{scope:"col",children:"_id"}),e.jsx("th",{scope:"col",children:"Name"}),e.jsx("th",{scope:"col",children:"Email"}),e.jsx("th",{scope:"col",children:"Mobile"}),e.jsx("th",{scope:"col",children:"Role"}),e.jsx("th",{scope:"col",children:"Active"})]})}),e.jsx("tbody",{children:r&&r.result.map(l=>e.jsxs("tr",{className:"table-hover",children:[e.jsx("td",{children:l._id}),e.jsx("td",{children:l.name}),e.jsx("td",{children:l.email}),e.jsx("td",{children:l.mobile}),e.jsx("td",{children:l.role}),e.jsx("td",{children:l.isActive===!1?e.jsx("button",{onClick:n=>d({_id:l._id,isActive:!0}),type:"button",class:"btn btn-outline-success",children:"Active"}):e.jsx("button",{onClick:n=>d({_id:l._id,isActive:!1}),type:"button",class:"btn btn-outline-danger",children:"De-Active"})})]}))})]})}),e.jsx(y,{})]})},y=()=>{const[c,{isSuccess:r,isError:d,isLoading:t,error:b}]=j(),s=p({initialValues:{name:"",email:"",mobile:"",role:"",password:""},validationSchema:v({name:a().required("Enter Name"),email:a().required("Enter Email"),mobile:a().required("Enter Mobile"),role:a().required("Enter role"),password:a().required("Enter Password")}),onSubmit:(l,{resetForm:n})=>{c(l),n()}}),i=l=>u({"form-control":!0,"is-valid":!s.errors[l]&&s.touched[l],"is-invalid":s.errors[l]&&s.touched[l]});return o.useEffect(()=>{r&&h.success("Agency Add Success 👍")},[r]),o.useEffect(()=>{d&&h.error("Agency Add Error 👎")},[d]),e.jsx(e.Fragment,{children:e.jsx("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:e.jsx("div",{class:"modal-dialog",children:e.jsxs("div",{class:"modal-content",children:[e.jsxs("div",{class:"modal-header",children:[e.jsx("h1",{class:"modal-title fs-5",id:"staticBackdropLabel",children:"Add Professionals"}),e.jsx("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{class:"modal-body",children:e.jsx("div",{class:"container",children:e.jsx("div",{class:"row",children:e.jsx("form",{onSubmit:s.handleSubmit,children:e.jsxs("div",{class:"col-sm-12 ",children:[e.jsxs("select",{...s.getFieldProps("role"),class:`${i("role")} "form-select"`,children:[e.jsx("option",{unselectable:"off",children:"Select Role"}),e.jsx("option",{value:"agency-admin",children:"Agency"})]}),e.jsxs("div",{children:[e.jsx("label",{for:"name",class:"form-label",children:"Enter name"}),e.jsx("input",{type:"text",class:i("name"),...s.getFieldProps("name"),id:"name",placeholder:"Enter your name"}),e.jsx("div",{class:"valid-feedback",children:"Looks good!"}),e.jsx("div",{class:"invalid-feedback",children:s.errors.name})]}),e.jsxs("div",{children:[e.jsx("label",{for:"email",class:"form-label",children:"Enter Email"}),e.jsx("input",{type:"text",class:i("email"),...s.getFieldProps("email"),id:"email",placeholder:"Enter Your Email"}),e.jsx("div",{class:"valid-feedback",children:"Looks good!"}),e.jsx("div",{class:"invalid-feedback",children:s.errors.email})]}),e.jsxs("div",{children:[e.jsx("label",{for:"mobile",class:"form-label",children:"Mobile"}),e.jsx("input",{type:"text",class:i("mobile"),...s.getFieldProps("mobile"),id:"mobile",placeholder:"Enter Your mobile"}),e.jsx("div",{class:"valid-feedback",children:"Looks good!"}),e.jsx("div",{class:"invalid-feedback",children:s.errors.mobile})]}),e.jsxs("div",{children:[e.jsx("label",{for:"password",class:"form-label",children:"Password"}),e.jsx("input",{type:"password",class:i("password"),...s.getFieldProps("password"),id:"password",placeholder:"Enter Your Password"}),e.jsx("div",{class:"valid-feedback",children:"Looks good!"}),e.jsx("div",{class:"invalid-feedback",children:s.errors.password})]}),e.jsx("button",{type:"submit","data-bs-dismiss":"modal",class:"btn btn-outline-info w-100 mt-3",children:"Add"})]})})})})})]})})})})};export{w as default};
