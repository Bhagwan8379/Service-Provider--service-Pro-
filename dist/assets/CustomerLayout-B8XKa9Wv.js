import{j as e,x,y as m,r as l,a as u,z as h,L as b,A as y}from"./index-BUAcf1D8.js";import{u as g,c as j,a as s}from"./index.esm-D6oO3LYs.js";import{l as f}from"./index-TjCxX7sJ.js";import{m as r}from"./proxy-hRDkkZn6.js";const c=f("https://service-provider-service-pro.onrender.com"),P=()=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("div",{style:{width:"90%",marginTop:"20px"},children:e.jsx(r.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(k,{})})}),e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},style:{width:"100%",marginTop:"20px"},children:e.jsx(v,{})}),e.jsx(C,{})]}),v=()=>{const[d,{data:o}]=x(),[t]=m();return l.useEffect(()=>{d(),c.on("professional-Booked",()=>{d()})},[]),e.jsxs("div",{style:{background:"linear-gradient(135deg, rgb(103, 237, 247), rgb(112, 249, 140))",padding:"20px",borderRadius:"10px"},children:[e.jsx("h3",{style:{textAlign:"center",marginBottom:"20px"},children:"Customer Layout"}),e.jsx("h4",{children:"Booking Requests"}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:["Professional Name","Email","Mobile","Role","Agency Name","Status","Actions"].map(i=>e.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",background:"#f2f2f2"},children:i},i))})}),e.jsx("tbody",{children:o&&o.map(i=>e.jsxs(r.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.professionalId.name}),e.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.professionalId.email}),e.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.professionalId.mobile}),e.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.professionalId.role}),e.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.professionalId.agencyName}),e.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.isAccept}),e.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.isAccept==="pending"?e.jsx("button",{className:"btn btn-outline-danger",onClick:()=>t({_id:i._id,isAccept:"cancel"}),style:{background:"#ff4d4d",color:"white",border:"none",padding:"5px 10px",borderRadius:"5px"},children:"Cancel"}):"Accepted"})]},i._id))})]})})]})},k=()=>{const[d,{data:o}]=u(),[t]=h();return l.useEffect(()=>{d(),c.on("Customer-Profile-Update",()=>{d()})},[]),e.jsxs(r.div,{className:"card",style:{padding:"20px",borderRadius:"10px",background:"linear-gradient(135deg, rgb(249, 118, 10), rgb(18, 246, 71))",textAlign:"center"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px"},children:e.jsx("img",{src:(o==null?void 0:o.hero)||"https://via.placeholder.com/150",alt:"Profile",style:{borderRadius:"50%",width:"120px",height:"120px"}})}),e.jsx("h3",{children:o==null?void 0:o.name}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsxs("p",{children:["Email: ",o==null?void 0:o.email]}),e.jsxs("p",{children:["Mobile: ",o==null?void 0:o.mobile]}),e.jsxs("p",{children:["Location: ",o==null?void 0:o.location]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[e.jsx("button",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal",style:{background:"#28a745",color:"white",border:"none",padding:"5px 15px",borderRadius:"5px"},children:"Update Profile"}),e.jsx("button",{onClick:t,style:{background:"#dc3545",color:"white",border:"none",padding:"5px 15px",borderRadius:"5px"},children:"LogOut"}),e.jsx(b,{to:"/",children:e.jsx("button",{style:{background:"#6c757d",color:"white",border:"none",padding:"5px 15px",borderRadius:"5px"},children:"Home"})})]})]})},C=()=>{const[d]=y(),o=g({initialValues:{name:"",email:"",mobile:"",location:"",hero:""},validationSchema:j({name:s().required("Enter name"),email:s().required("Enter email"),mobile:s().required("Enter mobile"),location:s().required("Enter location"),hero:s().required("Choose an image")}),onSubmit:(i,{resetForm:p})=>{const a=new FormData;for(const n in i)a.append(n,i[n]);d(a),p()}}),t=i=>o.errors[i]&&o.touched[i]?"border-danger":"border-success";return e.jsx(r.div,{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Update Profile"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("form",{onSubmit:o.handleSubmit,children:e.jsxs("div",{style:{display:"grid",gap:"10px"},children:[["name","email","mobile","location"].map(i=>e.jsx("input",{className:`${t(i)} form-control`,...o.getFieldProps(i),placeholder:`Enter ${i}`},i)),e.jsx("input",{type:"file",className:`${t("hero")} form-control`,onChange:i=>o.setFieldValue("hero",i.currentTarget.files[0])}),e.jsx("button",{type:"submit",className:"btn btn-warning w-100","data-bs-dismiss":"modal",children:"Update"})]})})})]})})})};export{P as default};
